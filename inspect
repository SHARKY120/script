-- 🔍 Real-time GUI Inspector (HUD) - By Sharky

local player = game.Players.LocalPlayer
local gui = player:WaitForChild("PlayerGui")

-- Hapus GUI sebelumnya kalau ada
if gui:FindFirstChild("SharkyGuiInspector") then
    gui:FindFirstChild("SharkyGuiInspector"):Destroy()
end

-- Buat tampilan output di layar
local inspectorGui = Instance.new("ScreenGui", gui)
inspectorGui.Name = "SharkyGuiInspector"
inspectorGui.ResetOnSpawn = false
inspectorGui.ZIndexBehavior = Enum.ZIndexBehavior.Sibling

local outputLabel = Instance.new("TextLabel", inspectorGui)
outputLabel.Size = UDim2.new(0, 420, 0, 320)
outputLabel.Position = UDim2.new(0, 10, 0, 10)
outputLabel.BackgroundTransparency = 0.3
outputLabel.BackgroundColor3 = Color3.fromRGB(20, 20, 20)
outputLabel.TextColor3 = Color3.new(1, 1, 1)
outputLabel.Font = Enum.Font.Code
outputLabel.TextSize = 14
outputLabel.TextXAlignment = Enum.TextXAlignment.Left
outputLabel.TextYAlignment = Enum.TextYAlignment.Top
outputLabel.TextWrapped = true
outputLabel.TextScaled = false
outputLabel.ClipsDescendants = true
outputLabel.Text = "🔍 Memuat GUI..."

-- Fungsi untuk rekursif cetak isi GUI
local function scanGui(guiObject, indent, lines)
    indent = indent or ""
    lines = lines or {}

    table.insert(lines, indent .. guiObject.Name .. " [" .. guiObject.ClassName .. "]")

    if guiObject:IsA("TextLabel") or guiObject:IsA("TextButton") then
        table.insert(lines, indent .. "  Text: " .. (guiObject.Text or "[Kosong]"))
    elseif guiObject:IsA("ImageLabel") or guiObject:IsA("ImageButton") then
        table.insert(lines, indent .. "  Image: " .. (guiObject.Image or "[Kosong]"))
    end

    for _, child in ipairs(guiObject:GetChildren()) do
        scanGui(child, indent .. "  ", lines)
    end

    return lines
end

-- Fungsi untuk memperbarui isi output
local function updateInspector()
    local allLines = {}
    for _, screenGui in ipairs(gui:GetChildren()) do
        if screenGui:IsA("ScreenGui") then
            table.insert(allLines, "📦 GUI: " .. screenGui.Name)
            local scanned = scanGui(screenGui, "  ")
            for _, line in ipairs(scanned) do
                table.insert(allLines, line)
            end
            table.insert(allLines, "")
        end
    end

    -- Potong jika terlalu panjang
    local finalText = table.concat(allLines, "\n")
    if #finalText > 2000 then
        finalText = string.sub(finalText, 1, 2000) .. "\n\n[📛 Terpotong - terlalu panjang]"
    end

    outputLabel.Text = finalText
end

-- Jalankan update awal
updateInspector()

-- Update setiap kali ada perubahan
gui.ChildAdded:Connect(updateInspector)
gui.ChildRemoved:Connect(updateInspector)

-- Juga perbarui jika isi GUI berubah
for _, screenGui in ipairs(gui:GetChildren()) do
    if screenGui:IsA("ScreenGui") then
        screenGui.DescendantAdded:Connect(updateInspector)
        screenGui.DescendantRemoving:Connect(updateInspector)
    end
end

print("✅ GUI Inspector Real-time aktif")
