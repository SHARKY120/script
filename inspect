-- Sharky GUI Inspector - Scrollable & Realtime

local containersToScan = {
    game.Players.LocalPlayer:FindFirstChild("PlayerGui"),
    game.CoreGui,
    game:GetService("StarterGui")
}

-- Hapus GUI lama jika ada
local old = game.CoreGui:FindFirstChild("SharkyScrollableInspector")
if old then old:Destroy() end

-- Buat GUI utama
local screenGui = Instance.new("ScreenGui", game.CoreGui)
screenGui.Name = "SharkyScrollableInspector"
screenGui.ResetOnSpawn = false
screenGui.ZIndexBehavior = Enum.ZIndexBehavior.Sibling

-- Frame utama scroll
local scrollingFrame = Instance.new("ScrollingFrame", screenGui)
scrollingFrame.Size = UDim2.new(0, 480, 0, 350)
scrollingFrame.Position = UDim2.new(0, 10, 0, 10)
scrollingFrame.BackgroundTransparency = 0.2
scrollingFrame.BackgroundColor3 = Color3.fromRGB(20, 20, 20)
scrollingFrame.BorderSizePixel = 0
scrollingFrame.CanvasSize = UDim2.new(0, 0, 0, 0)
scrollingFrame.ScrollBarThickness = 8
scrollingFrame.AutomaticCanvasSize = Enum.AutomaticSize.Y
scrollingFrame.ClipsDescendants = true

-- Layout
local uiListLayout = Instance.new("UIListLayout", scrollingFrame)
uiListLayout.SortOrder = Enum.SortOrder.LayoutOrder
uiListLayout.Padding = UDim.new(0, 2)

-- Fungsi scan rekursif
local function scanGui(object, indent, lines)
    indent = indent or ""
    lines = lines or {}

    table.insert(lines, indent .. object.Name .. " [" .. object.ClassName .. "]")

    if object:IsA("TextLabel") or object:IsA("TextButton") then
        table.insert(lines, indent .. "  Text: " .. (object.Text or "[Kosong]"))
    elseif object:IsA("ImageLabel") or object:IsA("ImageButton") then
        table.insert(lines, indent .. "  Image: " .. (object.Image or "[Kosong]"))
    end

    for _, child in pairs(object:GetChildren()) do
        scanGui(child, indent .. "  ", lines)
    end

    return lines
end

-- Fungsi update tampilan
local function updateInspector()
    for _, child in ipairs(scrollingFrame:GetChildren()) do
        if child:IsA("TextLabel") then
            child:Destroy()
        end
    end

    for _, container in ipairs(containersToScan) do
        if container then
            for _, child in ipairs(container:GetChildren()) do
                if child:IsA("ScreenGui") then
                    local title = Instance.new("TextLabel", scrollingFrame)
                    title.Size = UDim2.new(1, -10, 0, 20)
                    title.BackgroundTransparency = 1
                    title.TextColor3 = Color3.fromRGB(255, 255, 0)
                    title.Font = Enum.Font.Code
                    title.TextSize = 14
                    title.TextXAlignment = Enum.TextXAlignment.Left
                    title.Text = "ðŸ“¦ GUI: " .. child.Name

                    local result = scanGui(child, "  ")
                    for _, line in ipairs(result) do
                        local label = Instance.new("TextLabel", scrollingFrame)
                        label.Size = UDim2.new(1, -10, 0, 18)
                        label.BackgroundTransparency = 1
                        label.TextColor3 = Color3.new(1, 1, 1)
                        label.Font = Enum.Font.Code
                        label.TextSize = 13
                        label.TextXAlignment = Enum.TextXAlignment.Left
                        label.Text = line
                    end
                end
            end
        end
    end
end

-- Jalankan awal
updateInspector()

-- Pantau perubahan
for _, container in ipairs(containersToScan) do
    if container then
        container.ChildAdded:Connect(updateInspector)
        container.ChildRemoved:Connect(updateInspector)
    end
end

print("âœ… GUI Inspector Scrollable aktif")
