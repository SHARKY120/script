-- Sharky - GUI Detector Terbaru Saja (Ultra Ringan, Global)

local player = game.Players.LocalPlayer
local targets = {
    player:FindFirstChild("PlayerGui"),
    game.CoreGui,
    game:GetService("StarterGui")
}

-- Cleanup
local existing = game.CoreGui:FindFirstChild("SharkyOneShotInspector")
if existing then existing:Destroy() end

-- GUI Output
local screenGui = Instance.new("ScreenGui", game.CoreGui)
screenGui.Name = "SharkyOneShotInspector"
screenGui.ResetOnSpawn = false

local frame = Instance.new("TextLabel", screenGui)
frame.Size = UDim2.new(0, 500, 0, 300)
frame.Position = UDim2.new(0, 10, 0, 10)
frame.BackgroundColor3 = Color3.fromRGB(30, 30, 30)
frame.BackgroundTransparency = 0.2
frame.TextColor3 = Color3.new(1,1,1)
frame.Font = Enum.Font.Code
frame.TextSize = 14
frame.TextXAlignment = Enum.TextXAlignment.Left
frame.TextYAlignment = Enum.TextYAlignment.Top
frame.TextWrapped = true
frame.ClipsDescendants = true
frame.Text = "üëÄ Menunggu GUI..."

-- üîÅ Fungsi Scan Satu GUI
local function describe(obj, indent)
	indent = indent or ""
	local lines = {}

	table.insert(lines, indent .. obj.Name .. " [" .. obj.ClassName .. "]")

	if obj:IsA("TextLabel") or obj:IsA("TextButton") then
		table.insert(lines, indent .. "  Text: " .. (obj.Text or "[Kosong]"))
	elseif obj:IsA("ImageLabel") or obj:IsA("ImageButton") then
		table.insert(lines, indent .. "  Image: " .. (obj.Image or "[Kosong]"))
	end

	for _, child in ipairs(obj:GetChildren()) do
		for _, line in ipairs(describe(child, indent .. "  ")) do
			table.insert(lines, line)
		end
	end

	return lines
end

-- Pantau semua target
for _, container in ipairs(targets) do
	if container and container:IsA("Instance") then
		container.ChildAdded:Connect(function(child)
			if child:IsA("ScreenGui") or child:IsA("Frame") then
				task.wait(0.3)
				local desc = describe(child)
				frame.Text = "üÜï GUI Ditemukan di " .. container.Name .. ":\n\n" .. table.concat(desc, "\n"):sub(1, 5000)
			end
		end)
	end
end

frame.Text = frame.Text .. "\n\nüí§ Pantau semua GUI utama (PlayerGui, CoreGui, StarterGui)..."
